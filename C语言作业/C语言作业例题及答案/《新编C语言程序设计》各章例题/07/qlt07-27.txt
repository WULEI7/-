#include <stdio.h>
void main()
{  int a[10][10],i,j,k=0,m,n;
   /* 输入方阵数，要求不超过10，因为定义的数组最大为10×10 */
   printf("Enter n (n<10):");  scanf("%d",&n);
   if(n%2==0) m=n/2;  /* 计算旋进次数 */
   else m=n/2+1;
   /* 矩阵赋值 */
   for(i=0;i<m;i++)   /* 第i次顺时针旋进1圈*/
   {  for(j=i;j<n-i;j++) a[i][j]=++k;       /* 最上面一行从左向右顺序赋值→ */
      for(j=i+1;j<n-i;j++) a[j][n-i-1]=++k; /* 最右面一列从上向下顺序赋值↓ */
      for(j=n-i-2;j>=i;j--) a[n-i-1][j]=++k;/* 最下面一行从右向左顺序赋值← */
      for(j=n-i-2;j>=i+1;j--) a[j][i]=++k;  /* 最左面一列从下向上顺序赋值↑*/
   }
   for(i=0;i<n;i++) /* 输出矩阵 */
   { for(j=0;j<n;j++) printf("%5d",a[i][j]); printf("\n"); }
}
